<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduSmart - School Management System</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #3498db;
            --light: #ecf0f1;
            --danger: #e74c3c;
            --success: #27ae60;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: #f4f7f6; display: flex; height: 100vh; overflow: hidden; }

        
        #login-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .login-box {
            background: white; padding: 40px; border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2); width: 350px; text-align: center;
        }
        .login-box input {
            width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;
        }
        .btn {
            background: var(--accent); color: white; border: none; padding: 12px 20px;
            border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%;
        }
        .btn:hover { opacity: 0.9; }

        
        #sidebar {
            width: 250px; background: var(--primary); color: white; display: none; /* Hidden on login */
            flex-direction: column; padding: 20px;
        }
        #sidebar h2 { margin-bottom: 30px; text-align: center; border-bottom: 1px solid var(--secondary); padding-bottom: 10px; }
        .nav-item {
            padding: 15px; cursor: pointer; border-radius: 5px; margin-bottom: 5px; transition: 0.3s;
        }
        .nav-item:hover, .nav-item.active { background: var(--secondary); border-left: 4px solid var(--accent); }

        #main-content {
            flex: 1; padding: 30px; overflow-y: auto; display: none; /* Hidden on login */
        }
        .section { display: none; animation: fadeIn 0.5s; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); border-left: 5px solid var(--accent); }
        .card h3 { color: #7f8c8d; font-size: 0.9rem; }
        .card p { font-size: 1.8rem; font-weight: bold; color: var(--primary); }

        .data-table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .data-table th, .data-table td { padding: 15px; text-align: left; border-bottom: 1px solid #eee; }
        .data-table th { background-color: var(--secondary); color: white; }
        .status-badge { padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; color: white; }
        .available { background-color: var(--success); }
        .borrowed { background-color: var(--danger); }
        
        .action-bar { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .search-input { padding: 10px; border: 1px solid #ddd; border-radius: 5px; width: 300px; }

    
        .grade-card { background: white; padding: 20px; margin-bottom: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 5px solid var(--success); }
    </style>
</head>
<body>

    <div id="login-container">
        <div class="login-box">
            <h2>EduSmart Login</h2>
            <p style="color: #7f8c8d; font-size: 0.9em; margin-bottom: 20px;">Use user: <b>admin</b> pass: <b>123</b></p>
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <button class="btn" onclick="handleLogin()">Login</button>
            <p id="error-msg" style="color: var(--danger); margin-top: 10px; display: none;">Invalid Credentials</p>
        </div>
    </div>

    <nav id="sidebar">
        <h2>ðŸŽ“ EduSmart</h2>
        <div class="nav-item active" onclick="showSection('dashboard')">Dashboard</div>
        <div class="nav-item" onclick="showSection('library')">Library System</div>
        <div class="nav-item" onclick="showSection('students')">Student Portal</div>
        <div class="nav-item" style="margin-top: auto; background-color: var(--danger);" onclick="logout()">Logout</div>
    </nav>

    <main id="main-content">
        
        <div id="dashboard" class="section active">
            <h1>Admin Dashboard</h1>
            <p style="margin-bottom: 20px; color: #7f8c8d;">Welcome back, Administrator.</p>
            
            <div class="stats-grid">
                <div class="card" style="border-color: #3498db;">
                    <h3>Total Students</h3>
                    <p>1,250</p>
                </div>
                <div class="card" style="border-color: #e67e22;">
                    <h3>Teachers</h3>
                    <p>85</p>
                </div>
                <div class="card" style="border-color: #27ae60;">
                    <h3>Library Books</h3>
                    <p id="total-books-count">0</p>
                </div>
                <div class="card" style="border-color: #9b59b6;">
                    <h3>Attendance Rate</h3>
                    <p>94%</p>
                </div>
            </div>

            <div class="card">
                <h3>Recent Announcements</h3>
                <ul style="list-style-position: inside; margin-top: 10px; line-height: 1.6;">
                    <li>ðŸ“¢ Annual Science Fair registration closes tomorrow.</li>
                    <li>ðŸ“¢ Library will remain closed this Saturday for maintenance.</li>
                    <li>ðŸ“¢ Exam schedule for Grade 10 has been released.</li>
                </ul>
            </div>
        </div>

        <div id="library" class="section">
            <h1>Library Management</h1>
            <div class="action-bar">
                <input type="text" id="bookSearch" class="search-input" placeholder="Search by Title or Author..." onkeyup="filterBooks()">
                <button class="btn" style="width: auto;" onclick="addBookPrompt()">+ Add New Book</button>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Book Title</th>
                        <th>Author</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="library-body">
                    </tbody>
            </table>
        </div>

        <div id="students" class="section">
            <h1>Student Portal (John Doe)</h1>
            <p style="margin-bottom: 20px; color: #7f8c8d;">Class: 10-A | Roll No: 42</p>

            <div style="display: flex; gap: 20px;">
                <div style="flex: 1;">
                    <h3>Academic Performance</h3>
                    <br>
                    <div class="grade-card">
                        <span>Mathematics</span>
                        <b>92% (A)</b>
                    </div>
                    <div class="grade-card" style="border-color: #f1c40f;">
                        <span>Physics</span>
                        <b>85% (B+)</b>
                    </div>
                    <div class="grade-card">
                        <span>Computer Science</span>
                        <b>98% (A+)</b>
                    </div>
                </div>
                
                <div style="flex: 1;">
                    <h3>Attendance Record</h3>
                    <br>
                    <div class="card">
                        <p style="font-size: 1rem; color: #333;">Total Days: 180</p>
                        <p style="font-size: 1rem; color: #333;">Present: 172</p>
                        <div style="background: #ddd; height: 10px; border-radius: 5px; margin-top: 10px;">
                            <div style="background: var(--success); width: 95%; height: 100%; border-radius: 5px;"></div>
                        </div>
                        <p style="text-align: right; font-size: 0.8rem; margin-top: 5px;">95% Attendance</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        
        let books = [
            { id: 101, title: "The Great Gatsby", author: "F. Scott Fitzgerald", status: "Available" },
            { id: 102, title: "Physics Vol. 1", author: "H.C. Verma", status: "Borrowed" },
            { id: 103, title: "Clean Code", author: "Robert C. Martin", status: "Available" },
            { id: 104, title: "Introduction to Algorithms", author: "Cormen", status: "Available" }
        ];


        function handleLogin() {
            const user = document.getElementById("username").value;
            const pass = document.getElementById("password").value;
            const errorMsg = document.getElementById("error-msg");

            if (user === "admin" && pass === "123") {
                // Success
                document.getElementById("login-container").style.display = "none";
                document.getElementById("sidebar").style.display = "flex";
                document.getElementById("main-content").style.display = "block";
                initDashboard();
            } else {
                errorMsg.style.display = "block";
            }
        }

        function logout() {
            location.reload(); 
        }

    
        function showSection(sectionId) {
        
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
        
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            
    
            document.getElementById(sectionId).classList.add('active');
            
            if(sectionId === 'dashboard') event.target.classList.add('active');
        }


        function initDashboard() {
            renderLibrary();
            document.getElementById("total-books-count").innerText = books.length;
        }

        function renderLibrary(filterText = "") {
            const tbody = document.getElementById("library-body");
            tbody.innerHTML = "";

            books.forEach((book, index) => {
                if (book.title.toLowerCase().includes(filterText.toLowerCase()) || 
                    book.author.toLowerCase().includes(filterText.toLowerCase())) {
                    
                    const badgeClass = book.status === "Available" ? "available" : "borrowed";
                    const btnText = book.status === "Available" ? "Borrow" : "Return";
                    const btnColor = book.status === "Available" ? "#3498db" : "#e67e22";

                    const row = `
                        <tr>
                            <td>#${book.id}</td>
                            <td><b>${book.title}</b></td>
                            <td>${book.author}</td>
                            <td><span class="status-badge ${badgeClass}">${book.status}</span></td>
                            <td>
                                <button onclick="toggleBookStatus(${index})" style="background:${btnColor}; color:white; border:none; padding:5px 10px; border-radius:3px; cursor:pointer;">
                                    ${btnText}
                                </button>
                            </td>
                        </tr>
                    `;
                    tbody.innerHTML += row;
                }
            });
        }

        function toggleBookStatus(index) {
            if (books[index].status === "Available") {
                books[index].status = "Borrowed";
            } else {
                books[index].status = "Available";
            }
            renderLibrary(); 
        }

        function filterBooks() {
            const searchText = document.getElementById("bookSearch").value;
            renderLibrary(searchText);
        }

        function addBookPrompt() {
            const title = prompt("Enter Book Title:");
            const author = prompt("Enter Author Name:");
            if (title && author) {
                books.push({
                    id: 100 + books.length + 1,
                    title: title,
                    author: author,
                    status: "Available"
                });
                renderLibrary();
                document.getElementById("total-books-count").innerText = books.length;
            }
        }
    </script>
</body>
</html>